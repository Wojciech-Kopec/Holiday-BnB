<div class="container" xmlns="http://www.w3.org/1999/html">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="form">
                <div class="mb-2 mr-sm-2">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                    <input type="text" class="form-control" id="nameSearchInput" placeholder="Name" ng-model="name">

                    <select class="form-control" id="accommodationTypeSelect" ng-model="accommodationType"
                            title="accommodationType">
                        <option value="">Accommodation Type</option>
                        <option ng-repeat="type in ctrl.accommodationTypes"
                                value="{{type}}">{{type}}
                        </option>
                    </select>

                    <input type="number" class="form-control" id="maxGuestsSearchInput" placeholder="Required Guests"
                           ng-model="requiredGuestCount">
                    <input type="number" class="form-control" id="minPricePerNightInput" placeholder="Min price/night"
                           ng-model="minPricePerNight">
                    <input type="number" class="form-control" id="maxPricePerNightInput" placeholder="Max price/night"
                           ng-model="maxPricePerNight">
                    <input type="text" class="form-control" id="countryInput" placeholder="Country"
                           ng-model="country">
                    <input type="text" class="form-control" id="cityInput" placeholder="City"
                           ng-model="city">

                    <!--Amenity 1-->
                    <select class="form-control" id="amenitySelect1" ng-model="amenityFilter1" title="amenity">
                        <option value="">Amenity no. 1</option>
                        <option ng-repeat="type in ctrl.amenityTypes"
                                value="{{type}}">{{type}}
                        </option>
                    </select>
                    <!--Amenity 2-->
                    <select class="form-control" id="amenitySelect2" ng-model="amenityFilter2" title="amenity">
                        <option value="">Amenity no. 2</option>
                        <option ng-repeat="type in ctrl.amenityTypes"
                                value="{{type}}">{{type}}
                        </option>
                    </select>
                    <!--Amenity 3-->
                    <select class="form-control" id="amenitySelect3" ng-model="amenityFilter3" title="amenity">
                        <option value="">Amenity no. 3</option>
                        <option ng-repeat="type in ctrl.amenityTypes"
                                value="{{type}}">{{type}}
                        </option>
                    </select>

                    <button class="btn btn-primary mx-1"
                            ng-click="ctrl.search()">
                        Filter Accommodations
                    </button>
                    &emsp;&emsp;
                    <button class="btn btn-primary mx-1"
                            ng-click="ctrl.clearFilters()">
                        Clear filters
                    </button>
                    <br><br>
                </div>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-12" ng-repeat="accommodation in ctrl.accommodations">
            <table class="table table-hover">
                <tbody>
                <tr>
                    <td>
                        <table>
                            <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Type</th>
                                <th scope="col">Guests</th>
                                <th scope="col">Price</th>
                                <th scope="col">Localization</th>
                                <th scope="col">Added</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>{{accommodation.name}}</td>
                                <td>{{accommodation.accommodationType}}</td>
                                <td>{{accommodation.maxGuests}}</td>
                                <td>{{accommodation.pricePerNight}} / day</td>
                                <td>
                                    <table>
                                        <tbody>
                                        <tr>
                                            <td>{{accommodation.localization.country}}</td>
                                            <td>{{accommodation.localization.city}}</td>
                                            <td>{{accommodation.localization.address}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>{{accommodation.createdDate}}</td>
                            </tr>
                            <tr>
                                <td class="line-breaks" colspan="4"><b>Description: </b><br><br>{{accommodation.description}}
                                </td>
                                <td>
                                    <table>
                                        <thead>
                                        <tr>
                                            <th colspan="2">Amenities</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="amenity in accommodation.amenities">
                                            <td>{{amenity.type}}</td>
                                            <td>{{amenity.description}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </td>
                                <td>
                                <b>User:</b><br>
                                <a ng-href="#!users/{{accommodation.user.id}}">{{accommodation.user.username}}</a>
                                </td>
                            <tr>
                                <td class="text-center">
                                    <button class="btn btn-primary" title="Edit">
                                        <a ng-href="#!accommodations/{{accommodation.id}}/booking-add" class="text-white">
                                            <i class="fas fa-user-edit">&emsp;BOOK NOW</i>
                                        </a>
                                    </button>
                                </td>
                                <td class="text-center">
                                    <button class="btn btn-primary" title="Edit">
                                        <a ng-href="#!accommodations/{{accommodation.id}}" class="text-white">
                                            <i class="fas fa-user-edit">&emsp;Show Accommodation</i>
                                        </a>
                                    </button>
                                </td>
                                <td class="text-center">
                                    <button class="btn btn-warning" title="Manage Bookings">
                                        <a ng-href="#!accommodations/{{accommodation.id}}/bookings" class="text-white">
                                            <i class="fas fa-wrench">&emsp;Show Bookings</i>
                                        </a>
                                    </button>
                                </td>
                                <td class="text-center">
                                    <button ng-if="accommodation.user.id == authUser.id" class="btn btn-danger" title="Remove"
                                            ng-click="ctrl.removePopup($event, accommodation)">
                                        <i class="fas fa-user-minus">&emsp;Remove</i>
                                    </button>
                                    <br><br>
                                </td>
                            </tr>
                            </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="row">
        <a class="btn btn-primary mb-3" ng-href="#!accommodation-add">Add Accommodation</a>
    </div>
</div>